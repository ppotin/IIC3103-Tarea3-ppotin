(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{100:function(e,t){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(9),l=a.n(o),r=(a(68),a(37)),s=a(53),i=a(54),m=a(10),u=a(59),d=a(58),h=(a(69),a(70),a(26)),g=a.n(h),p=a(35),E=a(142),k=a(143),f=a(133),b=a(137),y=a(141),v=a(140),S=a(135),x=a(138),C=a(139),w=a(136),O=a(36),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.activarSocket(n.state.status),n.getStocksInfo(),n.getExchangesInfo()},n.getStocksInfo=function(){var e=g()("wss://le-18262636.bitzonte.com/",{path:"/stocks"});e.emit("STOCKS"),e.on("STOCKS",(function(e){e.forEach((function(e){n.createStock(e.ticker,e.company_name,e.country,e.quote_base)}))}))},n.getExchangesInfo=function(){var e=g()("wss://le-18262636.bitzonte.com/",{path:"/stocks"});e.emit("EXCHANGES"),e.on("EXCHANGES",(function(e){Object.entries(e).forEach((function(e){n.createExchange(e[1].name,e[1].exchange_ticker,e[1].country,e[1].address,e[1].listed_companies)}))}))},n.createStock=function(e,t,a,c){var o=n.state.options,l={ticker:e,name:t,country:a,quote:c,data:[["x",e]],stats:[0,1e4,0],lastValue:0,sellBuy:[0,0]},r=n.state.stocks,s=r.set(e,l);return n.setState({stocks:r,options:o}),s},n.createExchange=function(e,t,a,c,o){var l={ticker:t,name:e,country:a,address:c,companies:o,stocks:[],buy:0,sell:0,total:0,numStocks:0,share:0};n.state.stocks.forEach((function(e){l.companies.includes(e.name)&&l.stocks.push(e.ticker)}));var r=n.state.exchanges,s=r.set(t,l);return n.setState({exchanges:r}),s},n.activarSocket=function(e){if("ON"===e)console.log("Apagamos el socket"),n.state.socket.close(),n.setState({status:"OFF",checked:!1,contador:0});else{n.setState({stocks:new Map}),n.getStocksInfo(),n.getExchangesInfo(),console.log("Prendimos el socket");var t=g()("wss://le-18262636.bitzonte.com/",{path:"/stocks"});t.on("UPDATE",(function(e){n.state.stocks.has(e.ticker)||n.createStock(e.ticker);var t=n.state.stocks.get(e.ticker),a=new Date(e.time),c=e.value,o=t.stats[0],l=t.stats[1],r=Number(((c-t.lastValue)/t.lastValue*100).toFixed(3));c>o&&(o=c),c<l&&(l=c),t.data.length>100&&t.data.splice(1,1),t.lastValue=c,t.data.push([a,c]),t.stats[0]=o,t.stats[1]=l,t.stats[2]=r;var s=n.state.contador;s+=1,n.setState({contador:s})})),t.on("BUY",(function(e){var t=n.state.stocks.get(e.ticker);t&&(t.sellBuy[0]=e.volume)})),t.on("SELL",(function(e){var t=n.state.stocks.get(e.ticker);t&&(t.sellBuy[1]=e.volume)})),n.setState({status:"ON",socket:t,checked:!0})}},n.refreshSelected=function(){var e=[];n.state.selected.forEach((function(t){e.push(n.state.stocks.get(t.ticker))})),n.setState({selected:e})},n.handleChange=function(e){var t=[];e&&e.forEach((function(e){t.push(e.value)})),n.setState({selected:t})},n.handleChange2=function(e){var t=[];e&&e.forEach((function(e){t.push(e.value)})),n.setState({selected2:t})},n.state={status:"OFF",checked:!0,contador:0,stocks:new Map,exchanges:new Map,selected:[],selected2:[]},n.activarSocket=n.activarSocket.bind(Object(m.a)(n)),n.createStock=n.createStock.bind(Object(m.a)(n)),n.getStocksInfo=n.getStocksInfo.bind(Object(m.a)(n)),n.getExchangesInfo=n.getExchangesInfo.bind(Object(m.a)(n)),n.createExchange=n.createExchange.bind(Object(m.a)(n)),n.createStock=n.createStock.bind(Object(m.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;var t=[],a=[],n=[],o=[];function l(e,t){var a,n=0,c=0,o=0;return t.forEach((function(t){var a=e.get(t);a&&(n+=a.stats[0],c+=a.stats[1],o+=1)})),a=Number((c+n).toFixed(3)),n=Number(n.toFixed(3)),c=Number(c.toFixed(3)),{buy:n,sell:c,total:a,numStocks:o,share:0}}this.state.stocks.forEach((function(e,t){n.push({label:e.name,value:e})})),this.state.selected.forEach((function(e){var a,n,o,l,r,s=[(a=e.sellBuy[0]+e.sellBuy[1],n=e.stats[0],o=e.stats[1],l=e.lastValue,r=e.stats[2],{total:a,max:n,min:o,last:l,delta:r})],i={backgroundColor:"#282c34",color:"white",align:"center"},m={backgroundColor:"#282c34",color:"white",align:"center"};m=e.stats[2]>0?{backgroundColor:"#282c34",color:"green",align:"center"}:{backgroundColor:"#282c34",color:"red",align:"center"};var u={color:"#FFF"},d=Object(f.a)({table:{minWidth:650}});t.push(c.a.createElement("div",{className:"Stock-Container"},c.a.createElement("div",{className:"Data-Container"},c.a.createElement("h2",null,e.name,c.a.createElement("br",null),e.ticker," - ",e.country),c.a.createElement(S.a,{component:w.a},c.a.createElement(b.a,{className:d.table,style:i,"aria-label":"simple table"},c.a.createElement(x.a,null,c.a.createElement(C.a,null,c.a.createElement(v.a,{style:i,align:"center"},"Volumen\xa0Total\xa0transado"),c.a.createElement(v.a,{style:i,align:"center"},"Alto\xa0historico"),c.a.createElement(v.a,{style:i,align:"center"},"Bajo\xa0historico"),c.a.createElement(v.a,{style:i,align:"center"},"Ultimo\xa0Precio"),c.a.createElement(v.a,{style:i,align:"center"},"Variacion\xa0Porcentual"))),c.a.createElement(y.a,null,s.map((function(e){return c.a.createElement(C.a,{key:e.name},c.a.createElement(v.a,{style:i,align:"center"},e.total),c.a.createElement(v.a,{style:i,align:"center"},e.max),c.a.createElement(v.a,{style:i,align:"center"},e.min),c.a.createElement(v.a,{style:i,align:"center"},e.last),c.a.createElement(v.a,{style:m,align:"center"},e.delta))})))))),c.a.createElement(p.a,{width:"600px",height:"400px",chartType:"LineChart",loader:c.a.createElement("div",null,"Loading Chart"),data:e.data,options:{hAxis:{title:"Hora",format:"HH:mm:ss",textStyle:u,titleTextStyle:u},vAxis:{title:"Precio ("+e.quote+")",textStyle:u,titleTextStyle:u,gridlines:{color:"#787878"}},legend:{textStyle:u},colors:["white"],backgroundColor:{fill:"transparent"}},rootProps:{"data-testid":"1"}})))}));var s=[["Exchange","participaci\xf3n"]];this.state.exchanges.forEach((function(e,t){o.push({label:e.name,value:e})}));var i=this.state.stocks;this.state.selected2.forEach((function(e){var t=[l(i,e.stocks)];s.push([e.name,t[0].total]);var n={backgroundColor:"#282c34",color:"white",align:"center"},o=Object(f.a)({table:{minWidth:650}});a.push(c.a.createElement("div",{className:"Stock-Container"},c.a.createElement("div",{className:"Data-Container"},c.a.createElement("h2",null,e.name,c.a.createElement("br",null),e.ticker," - ",e.country,c.a.createElement("br",null),e.address),c.a.createElement(S.a,{component:w.a},c.a.createElement(b.a,{className:o.table,style:n,"aria-label":"simple table"},c.a.createElement(x.a,null,c.a.createElement(C.a,null,c.a.createElement(v.a,{style:n,align:"center"},"Volumen\xa0Compra"),c.a.createElement(v.a,{style:n,align:"center"},"Volumen\xa0Venta"),c.a.createElement(v.a,{style:n,align:"center"},"Volumen\xa0Total"),c.a.createElement(v.a,{style:n,align:"center"},"Cantidad\xa0Acciones"),c.a.createElement(v.a,{style:n,align:"center"},"Participaci\xf3n"))),c.a.createElement(y.a,null,t.map((function(e){return c.a.createElement(C.a,{key:e.name},c.a.createElement(v.a,{style:n,align:"center"},e.buy),c.a.createElement(v.a,{style:n,align:"center"},e.sell),c.a.createElement(v.a,{style:n,align:"center"},e.total),c.a.createElement(v.a,{style:n,align:"center"},e.numStocks),c.a.createElement(v.a,{style:n,align:"center"},e.share))}))))))))})),console.log(s);var m={input:function(e,t){return{borderBottom:"1px dotted pink",padding:20,width:"300px",align:"left",height:"10px"}},option:function(e,t){return{borderBottom:"1px dotted pink",color:t.isSelected?"green":"black",backgroundColor:t.isFocused?"gray":"white",padding:20,hover:"gray"}},menu:function(e,t){return Object(r.a)(Object(r.a)({},e),{},{width:"500px",borderBottom:"1px dotted pink",color:"black",padding:0})}},u={alignSelf:"stretch",backgroundColor:"#282c34",marginBottom:8,marginTop:8,width:1},d=function(e){var t=e.innerProps;return c.a.createElement("span",Object.assign({style:u},t))};return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("p",null,"Ultimate Financial Dashboard"),c.a.createElement(k.a,{control:c.a.createElement(E.a,{onChange:function(){e.activarSocket(e.state.status)},checked:this.state.checked,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),label:"ON/OFF"})),c.a.createElement("body",{className:"App-body"},c.a.createElement("h1",{align:"left"},"Stocks"),c.a.createElement("hr",{color:"white",width:"1400"}),c.a.createElement("div",{align:"left"},c.a.createElement(O.a,{isClearable:!0,placeholder:"Selecciona empresa...",components:{IndicatorSeparator:d},isMulti:!0,name:"name",options:n,onChange:function(t){e.handleChange(t)},styles:m})),t,c.a.createElement("h1",{align:"left"},"Exchanges"),c.a.createElement("hr",{color:"white",width:"1400"}),c.a.createElement("div",{align:"left"},c.a.createElement(O.a,{isClearable:!0,placeholder:"Selecciona Mercado...",components:{IndicatorSeparator:d},isMulti:!0,name:"name",options:o,onChange:function(t){e.handleChange2(t)},styles:m})),a,c.a.createElement(p.a,{width:"600px",height:"400px",chartType:"PieChart",loader:c.a.createElement("div",null,"Loading Chart"),data:s,options:{title:"Participaci\xf3n de mercado",titleTextStyle:{color:"white",align:"center"},legend:{textStyle:{color:"white"}},is3D:!0,backgroundColor:{fill:"transparent"}},rootProps:{"data-testid":"1"}})))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,a){e.exports=a(107)},68:function(e,t,a){},69:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},70:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.566592f3.chunk.js.map